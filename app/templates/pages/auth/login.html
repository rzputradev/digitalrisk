{% extends 'layouts/auth.html' %} {% block title %} Sign In {% endblock title %} {% block main %}

<main>
   <!-- First section -->
   <section class="container mx-auto">
      <div class="flex flex-col justify-center p-4">
         <div class="max-w-md w-full mx-auto border border-secondaryForeground/20 rounded-xl px-8 py-10">
            <div class="flex flex-col space-y-1 text-center mb-8">
               <a href="#" class="text-xl font-bold text-primary/90">DigitalRisk</a>
               <span class="text-mutedForeground">Welcome back</span>
            </div>

            <form action="{{ url_for('auth.login') }}" method="POST">
               {{ form.hidden_tag() }}
               <div class="space-y-6">
                  <div>
                     <label class="text-primary/90 text-sm mb-2 block">Email</label>
                     {{ form.email(class_='text-primary/90 border border-secondaryForeground/10 w-full text-sm px-4 py-3
                     rounded-md outline-secondaryForeground/20', placeholder='Enter email') }} {% for error in
                     form.email.errors %}
                     <p class="text-red-600 text-sm mt-1">{{ error }}</p>
                     {% endfor %}
                  </div>
                  <div>
                     <label class="text-primary/90 text-sm mb-2 block">Password</label>
                     {{ form.password(class_='text-primary/90 border border-secondaryForeground/10 w-full text-sm px-4
                     py-3 rounded-md outline-secondaryForeground/20', placeholder='Enter password') }} {% for error in
                     form.password.errors %}
                     <p class="text-red-600 text-sm mt-1">{{ error }}</p>
                     {% endfor %}
                  </div>
                  <div class="flex items-center">
                     <input
                        id="remember-me"
                        name="remember-me"
                        type="checkbox"
                        class="h-4 w-4 shrink-0 text-primary/90 focus:bg-primary/80 border-secondaryForeground/20 rounded"
                     />
                     <label for="remember-me" class="text-mutedForeground text-xs lg:text-sm ml-3 block">
                        Remember me
                     </label>
                  </div>
                  <!-- Flash messages -->
                  {% with messages = get_flashed_messages(with_categories=true) %} {% if messages %}
                  <div class="space-y-4 mb-6">
                     {% set category_classes = { 'success': 'bg-green-100 text-green-800', 'danger': 'bg-red-100
                     text-red-800', 'warning': 'bg-orange-200 text-orange-800' } %} {% set category_icons = { 'success':
                     'check-circle.svg', 'danger': 'alert-triangle.svg', 'warning': 'alert-octagon.svg' } %} {% for
                     category, message in messages %}
                     <div
                        class="flex space-x-2 items-center px-4 py-3 rounded-md text-sm {{ category_classes.get(category, 'bg-orange-200 text-orange-800') }}"
                     >
                        <img
                           src="{{ url_for('static', filename='icons/' + category_icons.get(category, 'alert-triangle.svg')) }}"
                           alt="Alert"
                           class="w-4 h-4"
                        />
                        <p>{{ message }}</p>
                     </div>
                     {% endfor %}
                  </div>
                  {% endif %} {% endwith %}
               </div>

               <div class="!mt-8">
                  <button
                     type="submit"
                     class="cursor-pointer w-full py-3 px-4 text-sm tracking-wider font-semibold rounded-md bg-primary/95 hover:bg-primary text-secondary focus:outline-none"
                  >
                     Sign In
                  </button>
               </div>
               <p class="text-primary/90 text-sm mt-6 text-center">
                  Not have an account?
                  <a href="{{ url_for('auth.register') }}" class="text-primary/80 font-semibold hover:underline ml-1"
                     >Register here</a
                  >
               </p>
            </form>
         </div>
      </div>
   </section>
</main>

{% endblock main %}
